{"version":3,"names":["drawAsImage","element","width","height","surface","Skia","Surface","MakeOffscreen","Error","canvas","getCanvas","root","SkiaRoot","render","ctx","JsiDrawingContext","dom","flush","makeImageSnapshot"],"sources":["Offscreen.tsx"],"sourcesContent":["import type { ReactElement } from \"react\";\n\nimport { JsiDrawingContext } from \"../dom/types\";\nimport { Skia } from \"../skia\";\n\nimport { SkiaRoot } from \"./Reconciler\";\n\nexport const drawAsImage = (\n  element: ReactElement,\n  width: number,\n  height: number\n) => {\n  const surface = Skia.Surface.MakeOffscreen(width, height);\n  if (!surface) {\n    throw new Error(\"Could not create offscreen surface\");\n  }\n  const canvas = surface.getCanvas();\n  const root = new SkiaRoot(Skia);\n  root.render(element);\n  const ctx = new JsiDrawingContext(Skia, canvas);\n  root.dom.render(ctx);\n  surface.flush();\n  return surface.makeImageSnapshot();\n};\n"],"mappings":";;;;;;;AAEA;;AACA;;AAEA;;AAEO,MAAMA,WAAW,GAAG,CACzBC,OADyB,EAEzBC,KAFyB,EAGzBC,MAHyB,KAItB;EACH,MAAMC,OAAO,GAAGC,UAAA,CAAKC,OAAL,CAAaC,aAAb,CAA2BL,KAA3B,EAAkCC,MAAlC,CAAhB;;EACA,IAAI,CAACC,OAAL,EAAc;IACZ,MAAM,IAAII,KAAJ,CAAU,oCAAV,CAAN;EACD;;EACD,MAAMC,MAAM,GAAGL,OAAO,CAACM,SAAR,EAAf;EACA,MAAMC,IAAI,GAAG,IAAIC,oBAAJ,CAAaP,UAAb,CAAb;EACAM,IAAI,CAACE,MAAL,CAAYZ,OAAZ;EACA,MAAMa,GAAG,GAAG,IAAIC,wBAAJ,CAAsBV,UAAtB,EAA4BI,MAA5B,CAAZ;EACAE,IAAI,CAACK,GAAL,CAASH,MAAT,CAAgBC,GAAhB;EACAV,OAAO,CAACa,KAAR;EACA,OAAOb,OAAO,CAACc,iBAAR,EAAP;AACD,CAhBM"}