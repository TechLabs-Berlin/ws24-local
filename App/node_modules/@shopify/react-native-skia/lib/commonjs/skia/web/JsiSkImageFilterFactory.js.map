{"version":3,"names":["JsiSkImageFilterFactory","Host","constructor","CanvasKit","MakeOffset","dx","dy","input","inputFilter","JsiSkImageFilter","fromValue","filter","ImageFilter","MakeDisplacementMap","channelX","channelY","scale","in1","ckEnum","MakeShader","shader","_input","MakeBlur","sigmaX","sigmaY","mode","MakeColorFilter","cf","JsiSkColorFilter","MakeCompose","outer","inner","MakeDropShadow","color","cropRect","NotImplementedOnRNWeb","MakeDropShadowOnly","MakeErode","rx","ry","MakeDilate","MakeBlend","background","foreground","MakeRuntimeShader","_builder","_childShaderName"],"sources":["JsiSkImageFilterFactory.ts"],"sourcesContent":["import type { CanvasKit, ImageFilter } from \"canvaskit-wasm\";\n\nimport type {\n  ColorChannel,\n  ImageFilterFactory,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  BlendMode,\n  SkRect,\n  SkRuntimeShaderBuilder,\n  SkShader,\n  TileMode,\n} from \"../types\";\n\nimport { Host, NotImplementedOnRNWeb, ckEnum } from \"./Host\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkColorFilter } from \"./JsiSkColorFilter\";\n\nexport class JsiSkImageFilterFactory\n  extends Host\n  implements ImageFilterFactory\n{\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeOffset(dx: number, dy: number, input: SkImageFilter | null) {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeOffset(dx, dy, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDisplacementMap(\n    channelX: ColorChannel,\n    channelY: ColorChannel,\n    scale: number,\n    in1: SkImageFilter,\n    input: SkImageFilter | null\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeDisplacementMap(\n      ckEnum(channelX),\n      ckEnum(channelY),\n      scale,\n      JsiSkImageFilter.fromValue(in1),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeShader(shader: SkShader, _input: SkImageFilter | null): SkImageFilter {\n    const filter = this.CanvasKit.ImageFilter.MakeShader(\n      JsiSkImageFilter.fromValue(shader)\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlur(\n    sigmaX: number,\n    sigmaY: number,\n    mode: TileMode,\n    input: SkImageFilter | null\n  ) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeBlur(\n        sigmaX,\n        sigmaY,\n        ckEnum(mode),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeColorFilter(cf: SkColorFilter, input: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeColorFilter(\n        JsiSkColorFilter.fromValue(cf),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeCompose(outer: SkImageFilter | null, inner: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeCompose(\n        outer === null ? null : JsiSkImageFilter.fromValue(outer),\n        inner === null ? null : JsiSkImageFilter.fromValue(inner)\n      )\n    );\n  }\n\n  MakeDropShadow(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadow(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDropShadowOnly(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadowOnly(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeErode(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeErode(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDilate(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDilate(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlend(\n    mode: BlendMode,\n    background: SkImageFilter,\n    foreground: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      foreground === null\n        ? null\n        : JsiSkImageFilter.fromValue<ImageFilter>(foreground);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeBlend(\n      ckEnum(mode),\n      JsiSkImageFilter.fromValue(background),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeRuntimeShader(\n    _builder: SkRuntimeShaderBuilder,\n    _childShaderName: string | null,\n    _input: SkImageFilter | null\n  ): SkImageFilter {\n    throw new NotImplementedOnRNWeb();\n  }\n}\n"],"mappings":"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"}