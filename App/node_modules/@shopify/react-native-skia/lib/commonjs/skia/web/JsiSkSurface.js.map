{"version":3,"names":["JsiSkSurface","HostObject","constructor","CanvasKit","ref","delete","flush","getCanvas","JsiSkCanvas","makeImageSnapshot","bounds","image","Array","from","JsiSkRect","fromValue","undefined","JsiSkImage"],"sources":["JsiSkSurface.ts"],"sourcesContent":["import type { CanvasKit, Surface } from \"canvaskit-wasm\";\n\nimport type { SkCanvas, SkImage, SkRect, SkSurface } from \"../types\";\n\nimport { HostObject } from \"./Host\";\nimport { JsiSkCanvas } from \"./JsiSkCanvas\";\nimport { JsiSkImage } from \"./JsiSkImage\";\nimport { JsiSkRect } from \"./JsiSkRect\";\n\nexport class JsiSkSurface\n  extends HostObject<Surface, \"Surface\">\n  implements SkSurface\n{\n  constructor(CanvasKit: CanvasKit, ref: Surface) {\n    super(CanvasKit, ref, \"Surface\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  flush() {\n    this.ref.flush();\n  }\n\n  getCanvas(): SkCanvas {\n    return new JsiSkCanvas(this.CanvasKit, this.ref.getCanvas());\n  }\n\n  makeImageSnapshot(bounds?: SkRect): SkImage {\n    const image = this.ref.makeImageSnapshot(\n      bounds\n        ? Array.from(JsiSkRect.fromValue(this.CanvasKit, bounds))\n        : undefined\n    );\n    return new JsiSkImage(this.CanvasKit, image);\n  }\n}\n"],"mappings":";;;;;;;AAIA;;AACA;;AACA;;AACA;;;;AAEO,MAAMA,YAAN,SACGC,gBADH,CAGP;EACEC,WAAW,CAACC,SAAD,EAAuBC,GAAvB,EAAqC;IAC9C,MAAMD,SAAN,EAAiBC,GAAjB,EAAsB,SAAtB;;IAD8C,iCAItC,MAAM;MACd,KAAKA,GAAL,CAASC,MAAT;IACD,CAN+C;EAE/C;;EAMDC,KAAK,GAAG;IACN,KAAKF,GAAL,CAASE,KAAT;EACD;;EAEDC,SAAS,GAAa;IACpB,OAAO,IAAIC,wBAAJ,CAAgB,KAAKL,SAArB,EAAgC,KAAKC,GAAL,CAASG,SAAT,EAAhC,CAAP;EACD;;EAEDE,iBAAiB,CAACC,MAAD,EAA2B;IAC1C,MAAMC,KAAK,GAAG,KAAKP,GAAL,CAASK,iBAAT,CACZC,MAAM,GACFE,KAAK,CAACC,IAAN,CAAWC,oBAAA,CAAUC,SAAV,CAAoB,KAAKZ,SAAzB,EAAoCO,MAApC,CAAX,CADE,GAEFM,SAHQ,CAAd;IAKA,OAAO,IAAIC,sBAAJ,CAAe,KAAKd,SAApB,EAA+BQ,KAA/B,CAAP;EACD;;AAxBH"}