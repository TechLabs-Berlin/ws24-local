{"version":3,"names":["VerticesNode","JsiDrawingNode","constructor","ctx","props","NodeType","Vertices","deriveProps","mode","vertices","textures","colors","indices","vertexMode","VertexMode","enumKey","Triangles","Skia","MakeVertices","map","c","Color","undefined","draw","canvas","paint","blendMode","defaultBlendMode","BlendMode","DstOver","SrcOver","blend","derived","Error","drawVertices"],"sources":["VerticesNode.ts"],"sourcesContent":["import type { SkVertices } from \"../../../skia/types\";\nimport { VertexMode, BlendMode } from \"../../../skia/types\";\nimport type { DrawingContext, VerticesProps } from \"../../types\";\nimport { NodeType } from \"../../types\";\nimport { enumKey } from \"../datatypes\";\nimport { JsiDrawingNode } from \"../DrawingNode\";\nimport type { NodeContext } from \"../Node\";\n\nexport class VerticesNode extends JsiDrawingNode<VerticesProps, SkVertices> {\n  constructor(ctx: NodeContext, props: VerticesProps) {\n    super(ctx, NodeType.Vertices, props);\n  }\n\n  protected deriveProps() {\n    const { mode, vertices, textures, colors, indices } = this.props;\n    const vertexMode = mode ? VertexMode[enumKey(mode)] : VertexMode.Triangles;\n    return this.Skia.MakeVertices(\n      vertexMode,\n      vertices,\n      textures,\n      colors ? colors.map((c) => this.Skia.Color(c)) : undefined,\n      indices\n    );\n  }\n\n  draw({ canvas, paint }: DrawingContext) {\n    const { colors, blendMode } = this.props;\n    const defaultBlendMode = colors ? BlendMode.DstOver : BlendMode.SrcOver;\n    const blend = blendMode ? BlendMode[enumKey(blendMode)] : defaultBlendMode;\n    if (this.derived === undefined) {\n      throw new Error(\"VerticesNode: vertices is undefined\");\n    }\n    canvas.drawVertices(this.derived, blend, paint);\n  }\n}\n"],"mappings":";;;;;;;AACA;;AAEA;;AACA;;AACA;;AAGO,MAAMA,YAAN,SAA2BC,2BAA3B,CAAqE;EAC1EC,WAAW,CAACC,GAAD,EAAmBC,KAAnB,EAAyC;IAClD,MAAMD,GAAN,EAAWE,gBAAA,CAASC,QAApB,EAA8BF,KAA9B;EACD;;EAESG,WAAW,GAAG;IACtB,MAAM;MAAEC,IAAF;MAAQC,QAAR;MAAkBC,QAAlB;MAA4BC,MAA5B;MAAoCC;IAApC,IAAgD,KAAKR,KAA3D;IACA,MAAMS,UAAU,GAAGL,IAAI,GAAGM,iBAAA,CAAW,IAAAC,kBAAA,EAAQP,IAAR,CAAX,CAAH,GAA+BM,iBAAA,CAAWE,SAAjE;IACA,OAAO,KAAKC,IAAL,CAAUC,YAAV,CACLL,UADK,EAELJ,QAFK,EAGLC,QAHK,EAILC,MAAM,GAAGA,MAAM,CAACQ,GAAP,CAAYC,CAAD,IAAO,KAAKH,IAAL,CAAUI,KAAV,CAAgBD,CAAhB,CAAlB,CAAH,GAA2CE,SAJ5C,EAKLV,OALK,CAAP;EAOD;;EAEDW,IAAI,OAAoC;IAAA,IAAnC;MAAEC,MAAF;MAAUC;IAAV,CAAmC;IACtC,MAAM;MAAEd,MAAF;MAAUe;IAAV,IAAwB,KAAKtB,KAAnC;IACA,MAAMuB,gBAAgB,GAAGhB,MAAM,GAAGiB,gBAAA,CAAUC,OAAb,GAAuBD,gBAAA,CAAUE,OAAhE;IACA,MAAMC,KAAK,GAAGL,SAAS,GAAGE,gBAAA,CAAU,IAAAb,kBAAA,EAAQW,SAAR,CAAV,CAAH,GAAmCC,gBAA1D;;IACA,IAAI,KAAKK,OAAL,KAAiBV,SAArB,EAAgC;MAC9B,MAAM,IAAIW,KAAJ,CAAU,qCAAV,CAAN;IACD;;IACDT,MAAM,CAACU,YAAP,CAAoB,KAAKF,OAAzB,EAAkCD,KAAlC,EAAyCN,KAAzC;EACD;;AAzByE"}