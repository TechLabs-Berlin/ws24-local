{"version":3,"names":["Host","NotImplementedOnRNWeb","ckEnum","JsiSkImageFilter","JsiSkColorFilter","JsiSkImageFilterFactory","constructor","CanvasKit","MakeOffset","dx","dy","input","inputFilter","fromValue","filter","ImageFilter","MakeDisplacementMap","channelX","channelY","scale","in1","MakeShader","shader","_input","MakeBlur","sigmaX","sigmaY","mode","MakeColorFilter","cf","MakeCompose","outer","inner","MakeDropShadow","color","cropRect","MakeDropShadowOnly","MakeErode","rx","ry","MakeDilate","MakeBlend","background","foreground","MakeRuntimeShader","_builder","_childShaderName"],"sources":["JsiSkImageFilterFactory.ts"],"sourcesContent":["import type { CanvasKit, ImageFilter } from \"canvaskit-wasm\";\n\nimport type {\n  ColorChannel,\n  ImageFilterFactory,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  BlendMode,\n  SkRect,\n  SkRuntimeShaderBuilder,\n  SkShader,\n  TileMode,\n} from \"../types\";\n\nimport { Host, NotImplementedOnRNWeb, ckEnum } from \"./Host\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkColorFilter } from \"./JsiSkColorFilter\";\n\nexport class JsiSkImageFilterFactory\n  extends Host\n  implements ImageFilterFactory\n{\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeOffset(dx: number, dy: number, input: SkImageFilter | null) {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeOffset(dx, dy, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDisplacementMap(\n    channelX: ColorChannel,\n    channelY: ColorChannel,\n    scale: number,\n    in1: SkImageFilter,\n    input: SkImageFilter | null\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeDisplacementMap(\n      ckEnum(channelX),\n      ckEnum(channelY),\n      scale,\n      JsiSkImageFilter.fromValue(in1),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeShader(shader: SkShader, _input: SkImageFilter | null): SkImageFilter {\n    const filter = this.CanvasKit.ImageFilter.MakeShader(\n      JsiSkImageFilter.fromValue(shader)\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlur(\n    sigmaX: number,\n    sigmaY: number,\n    mode: TileMode,\n    input: SkImageFilter | null\n  ) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeBlur(\n        sigmaX,\n        sigmaY,\n        ckEnum(mode),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeColorFilter(cf: SkColorFilter, input: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeColorFilter(\n        JsiSkColorFilter.fromValue(cf),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeCompose(outer: SkImageFilter | null, inner: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeCompose(\n        outer === null ? null : JsiSkImageFilter.fromValue(outer),\n        inner === null ? null : JsiSkImageFilter.fromValue(inner)\n      )\n    );\n  }\n\n  MakeDropShadow(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadow(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDropShadowOnly(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadowOnly(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeErode(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeErode(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDilate(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDilate(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlend(\n    mode: BlendMode,\n    background: SkImageFilter,\n    foreground: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      foreground === null\n        ? null\n        : JsiSkImageFilter.fromValue<ImageFilter>(foreground);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeBlend(\n      ckEnum(mode),\n      JsiSkImageFilter.fromValue(background),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeRuntimeShader(\n    _builder: SkRuntimeShaderBuilder,\n    _childShaderName: string | null,\n    _input: SkImageFilter | null\n  ): SkImageFilter {\n    throw new NotImplementedOnRNWeb();\n  }\n}\n"],"mappings":"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"}