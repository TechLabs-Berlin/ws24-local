{"version":3,"names":["HostObject","JsiSkMatrix","JsiSkShader","JsiSkRuntimeEffect","constructor","CanvasKit","ref","sksl","delete","source","makeShader","uniforms","localMatrix","undefined","fromValue","makeShaderWithChildren","children","map","child","getUniform","index","getUniformCount","getUniformFloatCount","getUniformName"],"sources":["JsiSkRuntimeEffect.ts"],"sourcesContent":["import type { CanvasKit, RuntimeEffect } from \"canvaskit-wasm\";\n\nimport type { SkMatrix, SkShader } from \"../types\";\nimport type { SkRuntimeEffect } from \"../types/RuntimeEffect/RuntimeEffect\";\n\nimport { HostObject } from \"./Host\";\nimport { JsiSkMatrix } from \"./JsiSkMatrix\";\nimport { JsiSkShader } from \"./JsiSkShader\";\n\nexport class JsiSkRuntimeEffect\n  extends HostObject<RuntimeEffect, \"RuntimeEffect\">\n  implements SkRuntimeEffect\n{\n  constructor(CanvasKit: CanvasKit, ref: RuntimeEffect, private sksl: string) {\n    super(CanvasKit, ref, \"RuntimeEffect\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  source() {\n    return this.sksl;\n  }\n\n  makeShader(uniforms: number[], localMatrix?: SkMatrix) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShader(\n        uniforms,\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  makeShaderWithChildren(\n    uniforms: number[],\n    children?: SkShader[],\n    localMatrix?: SkMatrix\n  ) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShaderWithChildren(\n        uniforms,\n        children?.map((child) => JsiSkShader.fromValue(child)),\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  getUniform(index: number) {\n    return this.ref.getUniform(index);\n  }\n\n  getUniformCount() {\n    return this.ref.getUniformCount();\n  }\n\n  getUniformFloatCount() {\n    return this.ref.getUniformFloatCount();\n  }\n\n  getUniformName(index: number) {\n    return this.ref.getUniformName(index);\n  }\n}\n"],"mappings":";;AAKA,SAASA,UAAT,QAA2B,QAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,OAAO,MAAMC,kBAAN,SACGH,UADH,CAGP;EACEI,WAAW,CAACC,SAAD,EAAuBC,GAAvB,EAAmDC,IAAnD,EAAiE;IAC1E,MAAMF,SAAN,EAAiBC,GAAjB,EAAsB,eAAtB;IAD0E,KAAdC,IAAc,GAAdA,IAAc;;IAAA,iCAIlE,MAAM;MACd,KAAKD,GAAL,CAASE,MAAT;IACD,CAN2E;EAE3E;;EAMDC,MAAM,GAAG;IACP,OAAO,KAAKF,IAAZ;EACD;;EAEDG,UAAU,CAACC,QAAD,EAAqBC,WAArB,EAA6C;IACrD,OAAO,IAAIV,WAAJ,CACL,KAAKG,SADA,EAEL,KAAKC,GAAL,CAASI,UAAT,CACEC,QADF,EAEEC,WAAW,KAAKC,SAAhB,GACIZ,WAAW,CAACa,SAAZ,CAAsBF,WAAtB,CADJ,GAEIA,WAJN,CAFK,CAAP;EASD;;EAEDG,sBAAsB,CACpBJ,QADoB,EAEpBK,QAFoB,EAGpBJ,WAHoB,EAIpB;IACA,OAAO,IAAIV,WAAJ,CACL,KAAKG,SADA,EAEL,KAAKC,GAAL,CAASS,sBAAT,CACEJ,QADF,EAEEK,QAFF,aAEEA,QAFF,uBAEEA,QAAQ,CAAEC,GAAV,CAAeC,KAAD,IAAWhB,WAAW,CAACY,SAAZ,CAAsBI,KAAtB,CAAzB,CAFF,EAGEN,WAAW,KAAKC,SAAhB,GACIZ,WAAW,CAACa,SAAZ,CAAsBF,WAAtB,CADJ,GAEIA,WALN,CAFK,CAAP;EAUD;;EAEDO,UAAU,CAACC,KAAD,EAAgB;IACxB,OAAO,KAAKd,GAAL,CAASa,UAAT,CAAoBC,KAApB,CAAP;EACD;;EAEDC,eAAe,GAAG;IAChB,OAAO,KAAKf,GAAL,CAASe,eAAT,EAAP;EACD;;EAEDC,oBAAoB,GAAG;IACrB,OAAO,KAAKhB,GAAL,CAASgB,oBAAT,EAAP;EACD;;EAEDC,cAAc,CAACH,KAAD,EAAgB;IAC5B,OAAO,KAAKd,GAAL,CAASiB,cAAT,CAAwBH,KAAxB,CAAP;EACD;;AAxDH"}